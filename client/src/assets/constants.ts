import { Property } from "./interfaces";
import { Dice1, Dice2, Dice3, Dice4, Dice5, Dice6 } from "lucide-react";

export const properties: Property[] = [
  {
    name: "GO",
    price: 0,
    rent: [0],
    color: "",
    position: 0,
    owner: null,
    houses: 0,
    type: "special",
  },
  {
    name: "Mediterranean Avenue",
    price: 60,
    rent: [2, 10, 30, 90, 160, 250],
    color: "bg-purple-900",
    position: 1,
    owner: null,
    houses: 0,
    type: "property",
    housePrice: 50,
  },
  {
    name: "Community Chest",
    price: 0,
    rent: [0],
    color: "",
    position: 2,
    owner: null,
    houses: 0,
    type: "special",
  },
  {
    name: "Baltic Avenue",
    price: 60,
    rent: [4, 20, 60, 180, 320, 450],
    color: "bg-purple-900",
    position: 3,
    owner: null,
    houses: 0,
    type: "property",
    housePrice: 50,
  },
  {
    name: "Income Tax",
    price: 0,
    rent: [0],
    color: "",
    position: 4,
    owner: null,
    houses: 0,
    type: "special",
  },
  {
    name: "Reading Railroad",
    price: 200,
    rent: [25, 50, 100, 200],
    color: "",
    position: 5,
    owner: null,
    houses: 0,
    type: "railroad",
  },
  {
    name: "Oriental Avenue",
    price: 100,
    rent: [6, 30, 90, 270, 400, 550],
    color: "bg-sky-400",
    position: 6,
    owner: null,
    houses: 0,
    type: "property",
    housePrice: 50,
  },
  {
    name: "Chance",
    price: 0,
    rent: [0],
    color: "",
    position: 7,
    owner: null,
    houses: 0,
    type: "special",
  },
  {
    name: "Vermont Avenue",
    price: 100,
    rent: [6, 30, 90, 270, 400, 550],
    color: "bg-sky-400",
    position: 8,
    owner: null,
    houses: 0,
    type: "property",
    housePrice: 50,
  },
  {
    name: "Connecticut Avenue",
    price: 120,
    rent: [8, 40, 100, 300, 450, 600],
    color: "bg-sky-400",
    position: 9,
    owner: null,
    houses: 0,
    type: "property",
    housePrice: 50,
  },
  {
    name: "Just Visiting",
    price: 0,
    rent: [0],
    color: "",
    position: 10,
    owner: null,
    houses: 0,
    type: "special",
  },
  {
    name: "St. Charles Place",
    price: 140,
    rent: [10, 50, 150, 450, 625, 750],
    color: "bg-pink-600",
    position: 11,
    owner: null,
    houses: 0,
    type: "property",
    housePrice: 100,
  },
  {
    name: "Electric Company",
    price: 150,
    rent: [0],
    color: "",
    position: 12,
    owner: null,
    houses: 0,
    type: "utility",
  },
  {
    name: "States Avenue",
    price: 140,
    rent: [10, 50, 150, 450, 625, 750],
    color: "bg-pink-600",
    position: 13,
    owner: null,
    houses: 0,
    type: "property",
    housePrice: 100,
  },
  {
    name: "Virginia Avenue",
    price: 160,
    rent: [12, 60, 180, 500, 700, 900],
    color: "bg-pink-600",
    position: 14,
    owner: null,
    houses: 0,
    type: "property",
    housePrice: 100,
  },
  {
    name: "Pennsylvania Railroad",
    price: 200,
    rent: [25, 50, 100, 200],
    color: "",
    position: 15,
    owner: null,
    houses: 0,
    type: "railroad",
  },
  {
    name: "St. James Place",
    price: 180,
    rent: [14, 70, 200, 550, 750, 950],
    color: "bg-orange-600",
    position: 16,
    owner: null,
    houses: 0,
    type: "property",
    housePrice: 100,
  },
  {
    name: "Community Chest",
    price: 0,
    rent: [0],
    color: "",
    position: 17,
    owner: null,
    houses: 0,
    type: "special",
  },
  {
    name: "Tennessee Avenue",
    price: 180,
    rent: [14, 70, 200, 550, 750, 950],
    color: "bg-orange-600",
    position: 18,
    owner: null,
    houses: 0,
    type: "property",
    housePrice: 100,
  },
  {
    name: "New York Avenue",
    price: 200,
    rent: [16, 80, 220, 600, 800, 1000],
    color: "bg-orange-600",
    position: 19,
    owner: null,
    houses: 0,
    type: "property",
    housePrice: 100,
  },
  {
    name: "Free Parking",
    price: 0,
    rent: [0],
    color: "",
    position: 20,
    owner: null,
    houses: 0,
    type: "special",
  },
  {
    name: "Kentucky Avenue",
    price: 220,
    rent: [18, 90, 250, 700, 875, 1050],
    color: "bg-red-600",
    position: 21,
    owner: null,
    houses: 0,
    type: "property",
    housePrice: 150,
  },
  {
    name: "Chance",
    price: 0,
    rent: [0],
    color: "",
    position: 22,
    owner: null,
    houses: 0,
    type: "special",
  },
  {
    name: "Indiana Avenue",
    price: 220,
    rent: [18, 90, 250, 700, 875, 1050],
    color: "bg-red-600",
    position: 23,
    owner: null,
    houses: 0,
    type: "property",
    housePrice: 150,
  },
  {
    name: "Illinois Avenue",
    price: 240,
    rent: [20, 100, 300, 750, 925, 1100],
    color: "bg-red-600",
    position: 24,
    owner: null,
    houses: 0,
    type: "property",
    housePrice: 150,
  },
  {
    name: "B. & O. Railroad",
    price: 200,
    rent: [25, 50, 100, 200],
    color: "",
    position: 25,
    owner: null,
    houses: 0,
    type: "railroad",
  },
  {
    name: "Atlantic Avenue",
    price: 260,
    rent: [22, 110, 330, 800, 975, 1150],
    color: "bg-yellow-500",
    position: 26,
    owner: null,
    houses: 0,
    type: "property",
    housePrice: 150,
  },
  {
    name: "Ventnor Avenue",
    price: 260,
    rent: [22, 110, 330, 800, 975, 1150],
    color: "bg-yellow-500",
    position: 27,
    owner: null,
    houses: 0,
    type: "property",
    housePrice: 150,
  },
  {
    name: "Water Works",
    price: 150,
    rent: [0],
    color: "",
    position: 28,
    owner: null,
    houses: 0,
    type: "utility",
  },
  {
    name: "Marvin Gardens",
    price: 280,
    rent: [24, 120, 360, 850, 1025, 1200],
    color: "bg-yellow-500",
    position: 29,
    owner: null,
    houses: 0,
    type: "property",
    housePrice: 150,
  },
  {
    name: "Go To Jail",
    price: 0,
    rent: [0],
    color: "",
    position: 30,
    owner: null,
    houses: 0,
    type: "special",
  },
  {
    name: "Pacific Avenue",
    price: 300,
    rent: [26, 130, 390, 900, 1100, 1275],
    color: "bg-green-600",
    position: 31,
    owner: null,
    houses: 0,
    type: "property",
    housePrice: 200,
  },
  {
    name: "North Carolina Avenue",
    price: 300,
    rent: [26, 130, 390, 900, 1100, 1275],
    color: "bg-green-600",
    position: 32,
    owner: null,
    houses: 0,
    type: "property",
    housePrice: 200,
  },
  {
    name: "Community Chest",
    price: 0,
    rent: [0],
    color: "",
    position: 33,
    owner: null,
    houses: 0,
    type: "special",
  },
  {
    name: "Pennsylvania Avenue",
    price: 320,
    rent: [28, 150, 450, 1000, 1200, 1400],
    color: "bg-green-600",
    position: 34,
    owner: null,
    houses: 0,
    type: "property",
    housePrice: 200,
  },
  {
    name: "Short Line",
    price: 200,
    rent: [25, 50, 100, 200],
    color: "",
    position: 35,
    owner: null,
    houses: 0,
    type: "railroad",
  },
  {
    name: "Chance",
    price: 0,
    rent: [0],
    color: "",
    position: 36,
    owner: null,
    houses: 0,
    type: "special",
  },
  {
    name: "Park Place",
    price: 350,
    rent: [35, 175, 500, 1100, 1300, 1500],
    color: "bg-blue-900",
    position: 37,
    owner: null,
    houses: 0,
    type: "property",
    housePrice: 200,
  },
  {
    name: "Luxury Tax",
    price: 0,
    rent: [0],
    color: "",
    position: 38,
    owner: null,
    houses: 0,
    type: "special",
  },
  {
    name: "Boardwalk",
    price: 400,
    rent: [50, 200, 600, 1400, 1700, 2000],
    color: "bg-blue-900",
    position: 39,
    owner: null,
    houses: 0,
    type: "property",
    housePrice: 200,
  },
];

export const availablePieces = ["üöó", "üé©", "üö¢", "üêï", "üêà", "üëû", "üé∏", "‚öì"];
export const playerColors = [
  "bg-blue-600",
  "bg-red-600",
  "bg-green-600",
  "bg-yellow-600",
];

export const SOCKET_SERVER_URL = "http://localhost:9000";

export const DiceIcon = ({ value }: { value: number }) => {
  const icons = [Dice1, Dice2, Dice3, Dice4, Dice5, Dice6];
  const Icon = icons[value - 1];
  return <Icon className="w-8 h-8" />;
};

export const PropertySpace = ({
  prop,
  players,
}: {
  prop: Property;
  players: Player[];
}) => {
  const playersHere = players.filter((p) => p.position === prop.position);

  if (prop.type === "property") {
    return (
      <div className="h-full w-full bg-gradient-to-br from-gray-50 to-white border-2 border-gray-900 flex flex-col text-[10px] relative shadow-inner">
        <div
          className={`${prop.color} h-6 w-full flex items-center justify-center text-white font-bold text-[8px]`}
        >
          {prop.owner !== null && players[prop.owner] && (
            <div
              className={`w-2 h-2 rounded-full ${
                players[prop.owner].color
              } absolute top-1 ring-2 ring-white`}
            ></div>
          )}
        </div>
        <div className="flex-1 flex flex-col items-center justify-center p-1 text-center leading-tight">
          <div className="font-bold">{prop.name.split(" ")[0]}</div>
          <div className="font-bold">
            {prop.name.split(" ").slice(1).join(" ")}
          </div>
          <div className="text-[9px] font-black mt-1 text-green-700">
            ${prop.price}
          </div>
          {prop.houses > 0 && (
            <div className="flex gap-0.5 mt-1">
              {prop.houses === 5 ? (
                <div className="text-red-600 text-xs animate-pulse">üè®</div>
              ) : (
                Array.from({ length: prop.houses }).map((_, i) => (
                  <div key={i} className="text-green-600 text-[8px]">
                    üè†
                  </div>
                ))
              )}
            </div>
          )}
        </div>
        {playersHere.length > 0 && (
          <div className="absolute bottom-1 left-1/2 -translate-x-1/2 flex gap-0.5">
            {playersHere.map((p) => (
              <div
                key={p.id}
                className="text-2xl drop-shadow-2xl animate-bounce"
              >
                {p.piece}
              </div>
            ))}
          </div>
        )}
      </div>
    );
  }

  if (prop.type === "railroad") {
    return (
      <div className="h-full w-full bg-gradient-to-br from-gray-800 to-gray-900 border-2 border-gray-900 flex flex-col items-center justify-center text-[10px] p-1 relative shadow-inner">
        <div className="font-bold text-center leading-tight text-[9px] text-yellow-400">
          {prop.name}
        </div>
        <div className="text-2xl">üöÇ</div>
        <div className="font-bold text-[9px] text-green-400">${prop.price}</div>
        {prop.owner !== null && players[prop.owner] && (
          <div
            className={`w-2 h-2 rounded-full ${
              players[prop.owner].color
            } absolute top-1 ring-2 ring-white`}
          ></div>
        )}
        {playersHere.length > 0 && (
          <div className="absolute bottom-1 left-1/2 -translate-x-1/2 flex gap-0.5">
            {playersHere.map((p) => (
              <div
                key={p.id}
                className="text-2xl drop-shadow-2xl animate-bounce"
              >
                {p.piece}
              </div>
            ))}
          </div>
        )}
      </div>
    );
  }

  if (prop.type === "utility") {
    return (
      <div className="h-full w-full bg-gradient-to-br from-blue-100 to-blue-200 border-2 border-gray-900 flex flex-col items-center justify-center text-[10px] p-1 relative shadow-inner">
        <div className="font-bold text-center leading-tight text-[9px] text-blue-900">
          {prop.name}
        </div>
        <div className="text-2xl">
          {prop.name.includes("Electric") ? "üí°" : "üíß"}
        </div>
        <div className="font-bold text-[9px] text-green-700">${prop.price}</div>
        {prop.owner !== null && players[prop.owner] && (
          <div
            className={`w-2 h-2 rounded-full ${
              players[prop.owner].color
            } absolute top-1 ring-2 ring-white`}
          ></div>
        )}
        {playersHere.length > 0 && (
          <div className="absolute bottom-1 left-1/2 -translate-x-1/2 flex gap-0.5">
            {playersHere.map((p) => (
              <div
                key={p.id}
                className="text-2xl drop-shadow-2xl animate-bounce"
              >
                {p.piece}
              </div>
            ))}
          </div>
        )}
      </div>
    );
  }

  if (prop.name === "GO") {
    return (
      <div className="h-full w-full bg-gradient-to-br from-green-500 via-emerald-600 to-green-700 border-2 border-gray-900 flex flex-col items-center justify-center text-white font-black relative shadow-lg">
        <div className="text-3xl rotate-180 animate-pulse">‚Üí</div>
        <div className="text-xs">GO</div>
        <div className="text-[8px]">COLLECT $200</div>
        {playersHere.length > 0 && (
          <div className="absolute bottom-2 left-1/2 -translate-x-1/2 flex gap-1">
            {playersHere.map((p) => (
              <div
                key={p.id}
                className="text-3xl drop-shadow-2xl animate-bounce"
              >
                {p.piece}
              </div>
            ))}
          </div>
        )}
      </div>
    );
  }

  if (prop.name === "Just Visiting") {
    return (
      <div className="h-full w-full bg-gradient-to-br from-orange-400 to-orange-600 border-2 border-gray-900 relative shadow-lg">
        <div className="absolute inset-0 flex flex-col items-center justify-center text-white font-black">
          <div className="text-xs">JUST</div>
          <div className="text-xs">VISITING</div>
        </div>
        <div className="absolute top-1 right-1 text-3xl animate-pulse">üöî</div>
        {playersHere.length > 0 && (
          <div className="absolute bottom-2 left-1/2 -translate-x-1/2 flex gap-1 z-10">
            {playersHere.map((p) => (
              <div
                key={p.id}
                className="text-3xl drop-shadow-2xl animate-bounce"
              >
                {p.piece}
              </div>
            ))}
          </div>
        )}
      </div>
    );
  }

  if (prop.name === "Free Parking") {
    return (
      <div className="h-full w-full bg-gradient-to-br from-purple-500 to-purple-700 border-2 border-gray-900 flex flex-col items-center justify-center text-white font-black relative shadow-lg">
        <div className="text-2xl animate-bounce">üÖøÔ∏è</div>
        <div className="text-[10px]">FREE</div>
        <div className="text-[10px]">PARKING</div>
        {playersHere.length > 0 && (
          <div className="absolute bottom-2 left-1/2 -translate-x-1/2 flex gap-1">
            {playersHere.map((p) => (
              <div
                key={p.id}
                className="text-3xl drop-shadow-2xl animate-bounce"
              >
                {p.piece}
              </div>
            ))}
          </div>
        )}
      </div>
    );
  }

  if (prop.name === "Go To Jail") {
    return (
      <div className="h-full w-full bg-gradient-to-br from-red-600 to-red-800 border-2 border-gray-900 flex flex-col items-center justify-center text-white font-black relative shadow-lg">
        <div className="text-2xl animate-pulse">üëÆ</div>
        <div className="text-[9px]">GO TO</div>
        <div className="text-[9px]">JAIL</div>
        {playersHere.length > 0 && (
          <div className="absolute bottom-2 left-1/2 -translate-x-1/2 flex gap-1">
            {playersHere.map((p) => (
              <div
                key={p.id}
                className="text-3xl drop-shadow-2xl animate-bounce"
              >
                {p.piece}
              </div>
            ))}
          </div>
        )}
      </div>
    );
  }

  if (prop.name === "Community Chest") {
    return (
      <div className="h-full w-full bg-gradient-to-br from-amber-100 to-amber-200 border-2 border-gray-900 flex flex-col items-center justify-center relative shadow-inner">
        <div className="text-2xl">üì¶</div>
        <div className="text-[8px] font-black text-center leading-tight text-amber-900">
          COMMUNITY
          <br />
          CHEST
        </div>
        {playersHere.length > 0 && (
          <div className="absolute bottom-1 left-1/2 -translate-x-1/2 flex gap-0.5">
            {playersHere.map((p) => (
              <div
                key={p.id}
                className="text-2xl drop-shadow-2xl animate-bounce"
              >
                {p.piece}
              </div>
            ))}
          </div>
        )}
      </div>
    );
  }

  if (prop.name === "Chance") {
    return (
      <div className="h-full w-full bg-gradient-to-br from-pink-100 to-pink-200 border-2 border-gray-900 flex flex-col items-center justify-center relative shadow-inner">
        <div className="text-2xl animate-spin-slow">‚ùì</div>
        <div className="text-[9px] font-black text-pink-900">CHANCE</div>
        {playersHere.length > 0 && (
          <div className="absolute bottom-1 left-1/2 -translate-x-1/2 flex gap-0.5">
            {playersHere.map((p) => (
              <div
                key={p.id}
                className="text-2xl drop-shadow-2xl animate-bounce"
              >
                {p.piece}
              </div>
            ))}
          </div>
        )}
      </div>
    );
  }

  if (prop.name === "Income Tax") {
    return (
      <div className="h-full w-full bg-gradient-to-br from-red-100 to-red-200 border-2 border-gray-900 flex flex-col items-center justify-center relative shadow-inner">
        <div className="text-2xl">üí∞</div>
        <div className="text-[8px] font-black text-center leading-tight text-red-900">
          INCOME
          <br />
          TAX
          <br />
          $200
        </div>
        {playersHere.length > 0 && (
          <div className="absolute bottom-1 left-1/2 -translate-x-1/2 flex gap-0.5">
            {playersHere.map((p) => (
              <div
                key={p.id}
                className="text-2xl drop-shadow-2xl animate-bounce"
              >
                {p.piece}
              </div>
            ))}
          </div>
        )}
      </div>
    );
  }

  if (prop.name === "Luxury Tax") {
    return (
      <div className="h-full w-full bg-gradient-to-br from-indigo-100 to-indigo-200 border-2 border-gray-900 flex flex-col items-center justify-center relative shadow-inner">
        <div className="text-2xl animate-pulse">üíé</div>
        <div className="text-[8px] font-black text-center leading-tight text-indigo-900">
          LUXURY
          <br />
          TAX
          <br />
          $100
        </div>
        {playersHere.length > 0 && (
          <div className="absolute bottom-1 left-1/2 -translate-x-1/2 flex gap-0.5">
            {playersHere.map((p) => (
              <div
                key={p.id}
                className="text-2xl drop-shadow-2xl animate-bounce"
              >
                {p.piece}
              </div>
            ))}
          </div>
        )}
      </div>
    );
  }

  return (
    <div className="h-full w-full bg-white border-2 border-gray-900"></div>
  );
};
